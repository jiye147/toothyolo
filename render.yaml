# Render配置文件

# 服务配置
services:
  - type: web
    name: toothyolo-backend
    env: python
    buildCommand: cd backend && pip install -r requirements.txt
    startCommand: cd backend && gunicorn -w 4 -k uvicorn.workers.UvicornWorker -b 0.0.0.0:$PORT main:app
    envVars:
      - key: HOST
        value: 0.0.0.0
      - key: PORT
        value: 8000
      - key: DEBUG
        value: False
      - key: MODEL_PATH
        value: best.pt
      - key: CONFIDENCE_THRESHOLD
        value: 0.25
      - key: MAX_UPLOAD_SIZE
        value: 10485760
      - key: UPLOAD_DIR
        value: uploads
      - key: ALLOWED_EXTENSIONS
        value: .jpg,.jpeg,.png,.mp4,.avi,.mov
      - key: CORS_ORIGINS
        value: https://toothyolo.vercel.app

# 磁盘配置（持久化存储）
disk:
  name: uploads
  mountPath: /opt/render/project/backend/uploads
  sizeGB: 1
